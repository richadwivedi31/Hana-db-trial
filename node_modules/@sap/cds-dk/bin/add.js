
module.exports = Object.assign(add, {
  options: ['--for', '--out', '--data:for'],
  shortcuts: ['-4', '-o'],
  flags: ['--force', '--verbose'],
  help: `
# SYNOPSIS

    *cds add* <feature | comma-separated list of features>

    Adds one or more features to an existing project in the current working
    folder - Grow-as-you-go scenario.

    The following <features> are supported so far:

    *hana*          - adds configuration for SAP HANA deployment

    *xsuaa*         - adds configuration for authentication via XSUAA

    *multitenancy*  - adds configuration for multitenancy

    *toggles*       - adds configuration for feature toggles

    *extensibility* - adds configuration for extensibility

    *mtx*           - adds configuration for multitenancy, feature toggles and extensibility

    *approuter*     - adds configuration for the Cloud Foundry approuter

    *mta*           - adds an _mta.yaml_ file for MTA-based SAP Business Technology Platform deployment

    *cf-manifest*   - adds _manifest.yml_ and _services-manifest.yml_ files for Cloud Foundry native deployment

                    This approach makes use of the 'Create-Service-Push Plugin' that has to be installed
                    separately using _cf install-plugin Create-Service-Push_.
                    _cf create-service-push_ creates the service(s) and pushes the application(s) to the
                    SAP Business Technology Platform.

    *pipeline*      - adds files for CI/CD pipeline integration

    *samples*       - adds simple sample files

    *data*          - adds data content for CSN model entities (as csv files)

    *helm*          - adds helm chart folder that contains the files needed to deploy the application using Kyma.

                    To add a specific feature in the helm chart you can use the command 'cds add helm:<featureName>'.
                    For example cds add helm:xsuaa and cds add helm:html5_apps_deployer.


# OPTIONS

    *--data:for* <entity name or prefix>

      Adds data content for entities matching the given pattern.  If it contains meta characters like
      '^' or '*', it is treated like a regular expression, otherwise as a prefix.

    *-o* | *--out* <target folder>

      Specifies output target folder (applicable for data feature only)


    *--force*

      Overwrite all files in case the target files already exist.

# EXAMPLES

    *cds add* mta,pipeline
    *cds add* mtx
    *cds add* hana,xsuaa --for production
    *cds add* cf-manifest
    *cds add* data --for my.namspace.MyEntity
    *cds add* helm


# SEE ALSO

  *cds init*

`});

async function add(args, options = {}) {
  const CDSGenerator = require('../lib/init');
  const generator = new CDSGenerator();
  await generator.addCmd(args[0], options);
}

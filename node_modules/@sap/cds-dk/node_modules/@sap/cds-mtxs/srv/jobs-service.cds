using from '../db/t0';
using from './cf/saas-provisioning-service';

@path     : '/-/cds/jobs'
@protocol : 'rest'
@impl     : '@sap/cds-mtxs/srv/jobs-service.js'
service cds.xt.JobsService {

  type Set: {}

  @open action enqueue(clusters: array of Set, op: String, args: array of {}, callback: {}) returns Jobs;

  @open function pollJob(ID: String) returns {};
  @open function pollTask(ID: String) returns {};

  @readonly entity Jobs  as projection on cds.xt.Jobs;
  @readonly entity Tasks as projection on cds.xt.Tasks;
}
